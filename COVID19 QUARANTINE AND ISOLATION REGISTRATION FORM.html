<html>
<head>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/muzima.css" rel="stylesheet">
    <!--Load this if datetime picker is need i.e date with time component-->
    <link href="css/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <link href="css/ui-darkness/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui-1.10.4.custom.min.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/additional-methods.min.js"></script>
    <script src="js/muzima.js"></script>
    <!--Load this if datetime picker is need i.e date with time component-->
    <script src="js/bootstrap-datetimepicker.min.js"></script>
    <title>Clinical Examination</title>
</head>
<body class="col-md-8 col-md-offset-2">
<div id="pre_populate_data"></div>
<form id="Clinical_Admission_form" name="Clinical_Admission_form">
    <h2 class="text-center">COVID19 QUARANTINE AND ISOLATION REGISTRATION FORM</h2>
    <div class="section">
        <fieldset>
            <h3>Encounter Details</h3>
            <div class="form-group">
                <label for="encounter.location_id">Location Name:<span class="required">*</span></label>
                <input class="form-control valid-location-only" id="encounter.location_id" type="text" placeholder="Start typing something..."
                       required="required">
                <input class="form-control" name="encounter.location_id" type="hidden">
            </div>
            <div class="form-group">
                <label for="encounter.provider_id_select">Provider:</label>
                <input class="form-control valid-provider-only" id="encounter.provider_id_select" type="text" placeholder="Start typing something...">
                <input class="form-control" name="encounter.provider_id_select" type="hidden">
            </div>
            <div class="form-group hidden">
                <select id="select_providers"></select>
            </div>
            <div class="form-group show_provider_id_text">
                <label for="encounter.provider_id">Provider's system-id:<span class="required">*</span></label>
                <input class="form-control checkDigit" id="encounter.provider_id" name="encounter.provider_id"
                       type="text" required="required" disabled="disabled">
            </div>
            <div class="form-group">
                <label for="encounter.encounter_datetime">Encounter Date:<span class="required">*</span></label>
                <input class="form-control datepicker nonFutureDate past-date" id="encounter.encounter_datetime"
                       name="encounter.encounter_datetime" type="text" readonly="readonly"
                       required="required">
            </div>
            <div class="form-group">
                <input class="form-control" id="encounter.form_uuid" name="encounter.form_uuid"
                       type="hidden" required="required">
            </div>
        </fieldset>
    </div>

    <!--=======================================================================================-->

    <div class="section">
        <fieldset>
            <h3>DEMOGRAPHICS & CLINICAL MEASUREMENTS</h3>

            <div class="form-group">
                <input class="form-control" id="patient.uuid"
                       name="patient.uuid" type="hidden" readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.medical_record_number">Patient identifier:</label>
                <input class="form-control" id="patient.medical_record_number"
                       name="patient.medical_record_number" type="text" readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.given_name">Given Name:</label>
                <input class="form-control" id="patient.given_name" name="patient.given_name" type="text"
                       readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.middle_name">Middle Name:</label>
                <input class="form-control" id="patient.middle_name" name="patient.middle_name" type="text"
                       readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.family_name">Family Name:</label>
                <input class="form-control" id="patient.family_name" name="patient.family_name" type="text"
                       readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.sex">Gender:</label>
                <select class="form-control" id="patient.sex" name="patient.sex" readonly="readonly" disabled="disabled">
                    <option value="">...</option>
                    <option value="M">Male</option>
                    <option value="F">Female</option>
                </select>
            </div>
            <div class="form-group">
                <label for="patient.birth_date">Date Of Birth:</label>
                <input class="form-control" id="patient.birth_date" name="patient.birth_date" type="text"
                       readonly="readonly" disabled="disabled">
            </div>
        </fieldset>
    </div>

    <div class="section">
        <h3>IDENTIFICATION</h3>
        <fieldset>
            <div class="form-group">
                <label for="obs.Room_Number">Room Number:</label>
                <input id="obs.Room_Number" class="form-control" name="obs.Room_Number" type="text"
                       data-concept="210082f2-1e4a-4647-85bd-09fdd8606852^Room Number ^99DCT"/>
            </div>
            <div class="form-group">
                <label for="obs.National/Passport_ID">National/Passport ID :</label>
                <input id="obs.National/Passport_ID" class="form-control" name="obs.National/Passport_ID" type="text"
                       data-concept="01c7309c-ca38-4d02-8bda-8d5a55263c99^National/Passport ID^99DCT"/>
            </div>

            <div class="form-group">
                <label for="obs.Nationality">NATIONALITY:</label>
                <input id="obs.Nationality" class="form-control" name="obs.Nationality" type="text"
                       data-concept="a958e1c3-c158-4d38-80a8-2075cb33dbda^Nationality^99DCT"/>
            </div>

            <div class="form-group">
                <label for="obs.TELEPHONE NUMBER">TELEPHONE NUMBER:</label>
                <input id="obs.TELEPHONE NUMBER" class="form-control" name="obs.TELEPHONE NUMBER" type="text"
                       data-concept="3cda3d7e-26fe-102b-80cb-0017a47871b2^TELEPHONE NUMBER^99DCT"/>
            </div>

            <div class="form-group">
                <label for="obs.Next of Kin Phone Number">NEXT OF KIN PHONE NUMBER:</label>
                <input id="obs.Next of Kin Phone Number" class="form-control" name="obs.Next of Kin Phone Number" type="text"
                       data-concept="99bc2f43-8ab8-405c-b86c-e2566c7e3129^Next of Kin Phone Number^99DCT"/>
            </div>

            <div class="form-group">
                <label for="obs.ADMISSION DATETIME">ADMISSION TIME(dd/MM/yyyy hh-mm):</label>
                <input id="obs.ADMISSION DATETIME" class="form-control" name="obs.ADMISSION DATETIME" type="text"
                       data-concept="48a34794-66f3-46c9-91c7-b35d03f4690f^ADMISSION DATETIME^99DCT"/>
            </div>
        </fieldset>
    </div>
        <div class="section">
            <h3>TRAVEL HISTORY</h3>
            <fieldset>
               <h3> ABROAD CASE </h3>
             <div class="form-group">
                 <label for="obs.Arrival date">ARRIVAL DATE(dd/MM/yyyy):</label>
                 <input id="obs.Arrival date" class="form-control" name="obs.Arrival date" type="text"
                        data-concept="364794bd-5d33-419f-8ccf-0aff32a11ceb^Arrival date^99DCT"/>
             </div>
            <div>
                <label for="differential_count">POINT OF ENTRY:</label>
            <select class="form-control" id="differential_count"
                    name="differential_count"
                    data-concept="83b06c83-c866-4bfb-82c7-557eecaacfbb^POINT OF ENTRY^99DCT">
                <option value="">...</option>
                <option value="b228e777-a055-4291-be90-a0ee1e16c877^Border^99DCT">Border</option>
                <option value="940c1873-c493-44c7-8888-4c3c88691bb8^KIA^99DCT">Kigali International Airport</option>
            </select>
            </div>
            <div class="form-group">
                <label for="obs.COUNTRY OF ORIGIN">COUNTRY OF ORIGIN:</label>
                <input id="obs.COUNTRY OF ORIGIN" class="form-control" name="obs.COUNTRY OF ORIGIN" type="text"
                       data-concept="0e566650-6e39-4b9c-8154-683366d3a3ae^COUNTRY OF ORIGIN^99DCT"/>
            </div>
             <h3> LOCAL CLUSTER </h3>
              <div class="form-group">
                  <label for="obs.CASE CONTACT(NAMES)">CASE CONTACT(NAMES):</label>
                  <input id="obs.CASE CONTACT(NAMES)" class="form-control" name="obs.CASE CONTACT(NAMES)" type="text"
                         data-concept="e412ed2d-7fb6-4122-b69a-aeb8259a6c9f^CASE CONTACT(NAMES)^99DCT"/>
              </div>

                <div class="form-group">
                    <label for="obs.LAST DATE OF EXPOSE">LAST DATE OF EXPOSURE(dd/mm/yyyy):</label>
                    <input id="obs.LAST DATE OF EXPOSE" class="form-control" name="obs.LAST DATE OF EXPOSE" type="text"
                           data-concept="8d04ca4e-98fb-4961-bf97-1c64382948e1^LAST DATE OF EXPOSE^99DCT"/>
                </div>

                <div>
                    <label for="differential_count">SITE OF EXPOSURE:</label>
                    <select class="form-control" id="SITE OF EXPOSURE"
                            name="SITE OF EXPOSURE"
                            data-concept="c4f897cb-fd25-459b-9899-0401f8be7ba4^SITE OF EXPOSURE^99DCT">
                        <option value="">...</option>
                        <option value="87d44dec-31a9-4843-a7cf-7440e5ac7d18^CHURCHES^99DCT">CHURCHES</option>
                        <option value="3cded370-26fe-102b-80cb-0017a47871b2^SCHOOLS^99DCT">SCHOOLS</option>
                        <option value="7db44084-ad91-47a9-9093-08d87a552b67^SALOON^99DCT">SALOON</option>
                        <option value="f46d630e-2d49-43a5-8d43-e934b7e3b5c0^BAR^99DCT">BAR</option>
                        <option value="3cdc9916-26fe-102b-80cb-0017a47871b2^AT WORK^99DCT">AT WORK</option>
                        <option value="fddeccf6-bc83-47cf-975e-eaa4d14de64d^HEALTH FACILITY^99DCT">HEALTH FACILITY</option>
                    </select>
                    <div class="form-group freetext">
                        <label for="freetext_general_ose">OTHER SITE OF EXPOSURE</label>
                        <input class="form-control" id="freetext_general_ose" name="freetext_general"
                                  type="text" data-concept="c33b96ee-26ba-4d36-80cc-edbbdb542e96^OTHER SITE OF EXPOSURE^99DCT"></input>
                    </div>
                </div>
            <label for="differential_count">LOCATION OF EXPOSURE:</label>
             <div class="form-group">
                 <label for="obs.PROVINCE(LOCATION OF EXPOSURE)">PROVINCE:</label>
                 <input id="obs.PROVINCE(LOCATION OF EXPOSURE)" class="form-control" name="obs.PROVINCE(LOCATION OF EXPOSURE)" type="text"
                        data-concept="27394056-12ea-4928-bc5c-e5a1e1860f2a^PROVINCE(LOCATION OF EXPOSURE)^99DCT"/>
              </div>
              <div class="form-group">
                  <label for="obs.DISTRICT(LOCATION OF EXPOSURE)">DISTRICT:</label>
                  <input id="obs.DISTRICT(LOCATION OF EXPOSURE)" class="form-control" name="obs.DISTRICT(LOCATION OF EXPOSURE)" type="text"
                           data-concept="b5d85769-adbe-48dd-8169-00d3ea2c7c53^DISTRICT(LOCATION OF EXPOSURE)^99DCT"/>
              </div>
                <div class="form-group">
                    <label for="obs.SECTOR(LOCATION OF EXPOSURE)">SECTOR</label>
                    <input id="obs.SECTOR(LOCATION OF EXPOSURE)" class="form-control" name="obs.SECTOR(LOCATION OF EXPOSURE)" type="text"
                           data-concept="032d1f2c-2083-4fd4-b1e3-b93d7fb79461^SECTOR(LOCATION OF EXPOSURE)^99DCT"/>
                </div>
                <div class="form-group">
                    <label for="obs.VILLAGE(LOCATION OF EXPOSURE)">VILLAGE</label>
                    <input id="obs.VILLAGE(LOCATION OF EXPOSURE)" class="form-control" name="obs.VILLAGE(LOCATION OF EXPOSURE)" type="text"
                           data-concept="2f1c5fb7-5093-42b7-8f17-6809c5f10951^VILLAGE(LOCATION OF EXPOSURE)^99DCT"/>
                </div>
            </fieldset>
        </div>


    <div class="section">
        <h3>COMMUNITY CASE</h3>
        <fieldset>
            <div>
                <label for="differential_count">ORIGIN</label>
                <select class="form-control" id="ORIGIN"
                        name="ORIGIN"
                        data-concept="9ad59053-88d2-4f23-bafb-e302f5146efd^ORIGIN^99DCT">
                    <option value="">...</option>
                    <option value="b25c93e3-a6ca-4d67-8475-1ba924c77663^SELF REPORT^99DCT">SELF REPORT</option>
                    <option value="fddeccf6-bc83-47cf-975e-eaa4d14de64d^HEALTH FACILITY^99DCT">HEALTH FACILITY</option>
                </select>
            </div>
            <div>
                <label for="differential_count">SELF REPORT WITH SYMPTOMS:</label>
                <select class="form-control" id="SELF REPORT WITH SYMPTOMS"
                        name="SELF_REPORT_WITH_SYMPTOMS"
                        data-concept="a34c24b8-1c09-43ae-a091-e6bbe709b7b8^SELF REPORT WITH SYMPTOMS^99DCT">
                    <option value="">...</option>
                    <option value="3cd6f600-26fe-102b-80cb-0017a47871b2^YES^99DCT">YES</option>
                    <option value="3cd6f86c-26fe-102b-80cb-0017a47871b2^NO^99DCT">NO</option>
                </select>
            </div>

            <h4>SYMPTOMS AT ADMISSION</h4>
            <label>
                <input id="obs.SYMPTOMPRESENT" name="obs.SYMPTOMPRESENT" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="3cf1898e-26fe-102b-80cb-0017a47871b2^FEVER^99DCT">
                FEVER
            </label>
            <label>
                <input id="obs.ScreeningThoughPapSmear" name="obs.ScreeningThough" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="3cd24178-26fe-102b-80cb-0017a47871b2^HEADACHE^99DCT">
                HEADACHE
            </label>
            <label>
                <input id="obs.ScreeningThoughHPVDNATest" name="obs.ScreeningThough" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="3ce14056-26fe-102b-80cb-0017a47871b2^DRY COUGH^99DCT">
                DRY COUGH
            </label>
            <label>
                <input id="obs.PositivePastScreeningResult" name="obs.PastScreeningResult" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="3ccd2364-26fe-102b-80cb-0017a47871b2^CHEST PAIN^99DCT">
                CHEST PAIN
            </label>
            <label>
                <input id="obs.NegativePastScreeningResult" name="obs.PastScreeningResult" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="3cccc7ac-26fe-102b-80cb-0017a47871b2^RHEUMATISM^99DCT">
                RHEUMATISM
            </label>
            <label>
                <input id="obs.NegativePastScreeningResultps" name="obs.PastScreeningResult" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="8292a426-3f05-4ea0-b960-4df5ccbb93f3^DIFFICULTY BREATHING^99DCT">
                DIFFICULTY BREATHING
            </label>
            <label>
                <input id="obs.ResultsNotReceivedPastScreeningResult" name="obs.PastScreeningResult" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="3ce50fec-26fe-102b-80cb-0017a47871b2^LOSS OF APPETITE^99DCT">
                LOSS OF APPETITE
            </label>

            <label>
                <input id="obs.TypeOfTreatmentPerformedCryotherapy" name="obs.TypeOfTreatmentPerformed" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="3ccdf8d4-26fe-102b-80cb-0017a47871b2^ABDOMINAL PAIN^99DCT">
                ABDOMINAL PAIN
            </label>
            <label>
                <input id="obs.TypeOfTreatmentPerformedThermoAblation" name="obs.TypeOfTreatmentPerformed" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="b694aa46-7543-46ac-ad86-80e501a82289^AGITATION^99DCT">
                AGITATION
            </label>
            <label>
                <input id="obs.TypeOfTreatmentPerformedLEEP" name="obs.TypeOfTreatmentPerformed" type="checkbox"
                       data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                       value="f48fb2a9-9276-4096-b297-a41f903b8621^NECK PAIN^99DCT">
                NECK PAIN
            </label>

            <div class="form-group freetext">
                <label for="freetext_general_ot">Other Complaints</label>
                <textarea class="form-control" id="freetext_general_ot" name="freetext_general"
                          type="text" data-concept="3cdd258e-26fe-102b-80cb-0017a47871b2^SYMPTOM COMMENT^99DCT"></textarea>
            </div>
        </fieldset>
    </div>
</form>
</body>
<script type="text/javascript">
        $(document).ready(function () {
           var dateFormat = "dd-mm-yy";
            var currentDate = $.datepicker.formatDate(dateFormat, new Date());
            var encounterDatetime = $('#encounter\\.encounter_datetime');
            if ($(encounterDatetime).val() == "") {
                $(encounterDatetime).val(currentDate);
            }

            $('#save_draft').click(function () {
            $(this).prop('disabled', true);
            document.saveDraft(this);
            $(this).prop('disabled', false);
            });
            $('#submit_form').click(function () {
                $(this).prop('disabled', true);
                document.submit();
                $(this).prop('disabled', false);
            });

            document.setupAutoCompleteData('encounter\\.location_id');
            document.setupValidationForLocation("$('#encounter\\.location_id').val()","encounter\\.location_id");
            document.setupAutoCompleteDataForProvider('encounter\\.provider_id_select');
            document.setupValidationForProvider("$('#encounter\\.provider_id_select').val()","encounter\\.provider_id");
            $('#encounter\\.provider_id_select').change(function () {
                if ($('#encounter\\.provider_id_select').val() === '') {
                    $('#encounter\\.provider_id').val('');
                       $('.show_provider_id_text').show();
                }
            });
            $('.future-or-today-date').change(function () {
                if ($(this).is(':visible') && $(this).val() != '') {
                    var errors = {};
                    var pattern = /(\d{2})-(\d{2})-(\d{4})/g;
                    var matches = pattern.exec($(this).val());
                    var enteredDate = new Date(matches[3], matches[2] - 1, matches[1]);
                    var today = new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate());
                    if (enteredDate < today) {
                        errors[$(this).attr('name')] = "Please enter present or future date.";
                    }
                    toggleValidationMessages(errors);
                }
            });
        });
</script>
</html>